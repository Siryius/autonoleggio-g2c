<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC 
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<constant name="struts.codebehind.defaultPackage" value="base-package" />
	<constant name="struts.codebehind.pathPrefix" value="/jsp/" />

	<package name="base-package" extends="struts-default">
	
	
	
	<global-results>
            <result name="unknownError">/WEB-INF/jsp/error.jsp</result>
        </global-results>
        <global-exception-mappings>
            <exception-mapping exception="java.lang.Exception" result="unknownError" />
            <exception-mapping exception="org.hibernate.exception.ConstraintViolationException" result="dupPK"></exception-mapping>
        </global-exception-mappings>
	
		
		<!-- Flusso Optional  -->
		
		<action name="allOptional" method="searchAllOptional" class="it_progetto_tsw2.ServiceOptionalAction"> 
			<result name="success" >/jsp/allOptional.jsp</result>
		</action>
		
		<action name="searchOptionalByNome_optional" method="searchOptionalByNome_optional" class="it_progetto_tsw2.ServiceOptionalAction"> 
			<result name="success" type="dispatcher">/jsp/searchOptionalByNome_optional.jsp</result>
		</action>
		
		<action name="searchOptionalByExample" method="searchOptionalByExample" class="it_progetto_tsw2.ServiceOptionalAction"> 
			<result name="success" type="dispatcher">/jsp/allOptional.jsp</result>
		</action>
		
		<action name="campiOptional" class="it_progetto_tsw2.CampiOptionalAction">
			<result name="success" type="dispatcher">/jsp/campiOptional.jsp</result>
		</action>
		
		<action name="newOptional" method="insertOptional" class="it_progetto_tsw2.ServiceOptionalAction" >
			<interceptor-ref name="paramsPrepareParamsStack" />
			<result name="success" type="redirectAction">allOptional</result>
		</action>
		
		<action name="deleteOptional" method="deleteOptional" class="it_progetto_tsw2.ServiceOptionalAction" > 
			<result name="success" type="redirectAction">allOptional</result>
		</action>
		
		<action name="updateOptional" method="updateOptional" class="it_progetto_tsw2.ServiceOptionalAction" > 
			<result name="success" type="redirectAction">allOptional</result>
		</action>
		
		<!-- END Flusso Optional  -->
		
		<!-- Flusso Categoria  -->
		
		<action name="allCategoria" method="searchAllCategoria" class="it_progetto_tsw2.ServiceCategoriaAction"> 
			<result name="success" >/jsp/allCategoria.jsp</result>
		</action>
		
		<action name="searchCategoriaByNome_categoria" method="searchCategoriaByNome_categoria" class="it_progetto_tsw2.ServiceCategoriaAction"> 
			<result name="success" type="dispatcher">/jsp/searchCategoriaByNome_categoria.jsp</result>
		</action>
		
		<action name="searchCategoriaByExample" method="searchCategoriaByExample" class="it_progetto_tsw2.ServiceCategoriaAction"> 
			<result name="success" type="dispatcher">/jsp/allCategoria.jsp</result>
		</action>
		
		<action name="campiCategoria" class="it_progetto_tsw2.CampiCategoriaAction">
			<result name="success" type="dispatcher">/jsp/campiCategoria.jsp</result>
		</action>
		
		<action name="newCategoria" method="insertCategoria" class="it_progetto_tsw2.ServiceCategoriaAction" >
			<interceptor-ref name="paramsPrepareParamsStack" />
			<result name="success" type="redirectAction">allOptional</result>
		</action>
		
		<action name="deleteCategoria" method="deleteCategoria" class="it_progetto_tsw2.ServiceCategoriaAction" > 
			<result name="success" type="redirectAction">allCategoria</result>
		</action>
		
		<action name="updateCategoria" method="updateCategoria" class="it_progetto_tsw2.ServiceCategoriaAction" > 
			<result name="success" type="redirectAction">allCategoria</result>
		</action>
		
		<!-- END Flusso Categoria  -->
		
		
	
		
		
		
	</package>
</struts>
